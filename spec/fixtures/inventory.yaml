---
version: 2

vars:
  test_password:
    _plugin: op_data
    account: my.1password.com
    vault: 'op_data test vault'
    id: 'Test Password'
    select: |
      fields[?id == 'password'].value | [0]

  test_login:
    _plugin: op_data
    account: my.1password.com
    vault: 'op_data test vault'
    id: 'Test Login'
    select: |
      {user: fields[?id == 'username'].value|[0],
       pass: fields[?id == 'password'].value|[0]}
